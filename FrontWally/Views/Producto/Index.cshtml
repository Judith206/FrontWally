@model IEnumerable<FrontWally.DTOs.ProductoDTOs.ProductoReadDTO>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Productos y Categorías</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/templatemo-style.css">
</head>

<body>
    <div class="container-fluid mt-4">

        <div class="row justify-content-center">
            <!-- Sección Productos -->
            <div class="col-12 col-xl-10 col-lg-11">
                <div class="tm-bg-primary-dark tm-block tm-block-products">
                    <h2 class="tm-block-title">Productos</h2>
                    <div class="tm-product-table-container">
                        <table class="table table-hover tm-table-small tm-product-table">
                            <thead>
                                <tr>
                                    @* <th scope="col">&nbsp;</th> *@
                                    <th scope="col">NOMBRE</th>
                                    <th scope="col">DESCRIPCION</th>
                                    <th scope="col">ESTADO</th>
                                    <th scope="col">PRECIO</th>
                                    <th scope="col">IMAGEN</th>
                                    <th scope="col">ACCIONES</th>
                                    @* <th scope="col">&nbsp;</th> *@
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var producto in Model)
                                {
                                    <tr>
                                        <td>@producto.Nombre</td>
                                        <td>@producto.Descripcion</td>
                                        <td>@(producto.Estado ? "Activo" : "Inactivo")</td>
                                        <td>@producto.Precio.ToString("C")</td>
                                        
                                        <td>
                                            @if (producto.Imagen != null && producto.Imagen.Length > 0)
                                            {
                                                <img src="data:image/png;base64,@Convert.ToBase64String(producto.Imagen)"
                                                     alt="Imagen Producto" width="50" height="50" />
                                            }
                                            else
                                            {
                                                <span>Sin imagen</span>
                                            }
                                        </td>
                                        <td>
                                            <div class="btn-group btn-group-sm" role="group">
                                                <!-- Botón Editar (para implementar después) -->
                                                <a asp-controller="Producto" asp-action="Editar" asp-route-id="@producto.Id"
                                                   class="btn btn-warning btn-sm" title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </a>

                                                <!-- Botón Eliminar -->
                                                <a asp-controller="Producto" asp-action="Eliminar" asp-route-id="@producto.Id"
                                                   class="btn btn-danger btn-sm" title="Eliminar">
                                                    <i class="fas fa-trash-alt"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <div class="d-flex flex-column">
                        <a asp-controller="Producto" asp-action="Crear"
                           class="btn btn-primary w-100 text-uppercase mb-3">
                            Agregar Producto Nuevo
                        </a>
                    </div>
                </div>
            </div>
        </>
    </div>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>
</html>
